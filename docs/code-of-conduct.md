# code of conduct

* Клонируем себе репу

  ```bash
  git clone https://github.com/QSPFoundation/qspfoundation.github.io.git
  ```

* заходим в репу и устанавливаем пакеты

  ```bash
  npm install
  ```

Дальше договариваемся, о чем будем писать. К примеру, я пишу о подсветке синтаксиса, на ней и буду показывать, как это работает. Весь смысл дальнейшей инструкции заключается в том, что мы:

* не трогаем ветку `main`
* создаем и пользуемся своими ветками
* сливаем ветки через pull request
* удаляем свои ветки за ненадобностью

Сама инструкция:

* Я создаю ветку `syntax-highlight`

  ```bash
  git checkout -b syntax-highlight
  ```

  Можно средствами редактора, просто так мне удобнее.
* создаю файл `docs/syntax-highlighting.md`
* пишу в него всякую фигню
* добавить файл в git и заккомитить:

  ```bash
  git add docs/syntax-highlighting.md
  git commit -m "wip: мне было лень давать название"
  ```

  Сообщение можно давать какое-нибудь осмысленное, но с первого раза получается все равно фигня. Об осмысленности ниже.

* делаю push на гитхаб по этой ветке

  ```bash
  git push -u origin syntax-highlight
  ```

  Всё, теперь ветка лежит тама. Чужие ветки не трогаем, а то запутаемся

* опять пишу какую-то фигню в `docs/syntax-highlighting.md`

* добавить изменение файла в git и закоммитить

  ```bash
  git add .
  git commit -m "wip: наконец-то дописал статью!"
  ```

* делаю push

  ```bash
  git push
  ```

* Теперь один из нас делает пул реквест из этой ветки через GitHub. Там довольно хитро и надо показывать
* После чего пул реквест одобряем (при условии, что всё там хорошо задеплоилось (это определено в `.github/workflows/test-deploy.yml`)

  Одобрять, т.е. слить с веткой `main`, можно тремя способами:

  * `squash` — т.е. все коммиты с твоей ветки соединяются в один коммит

    Это надо, чтобы вот этот поток бессознательного:

    ```text
    wip: мне было лень давать название
    wip: наконец-то дописал статью!
    ```

    Превратить в один осмысленный:

    ```bash
    docs: write syntax highlighting article
    ```

  * `rebase` — эта штука сливает новые коммиты в `main`

    Если у тебя осмысленные коммиты, в духе:

    ```text
    docs(syntax-highlighting): start writing an article
    docs(syntax-highlighting): write shortly description of what syntax highlighting is
    ...
    ```

    Тогда это всё не стыдно кинуть прямо в `main` в таком виде.

  * еще что-то, что сливает ветку через коммит. Забыл, как называется

* После всех этих кошмаров ветку можно удалить

  Удалить ветку на GitHub'е:

  ```bash
  git push -d origin syntax-highlighting
  ```

  Удалить ветку у себя на компе

  ```bash
  git branch -d syntax-highlighting
  ```
